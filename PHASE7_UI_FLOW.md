# Phase 7 Features - UI Flow

## UI Metadata Editor Flow

```
Main Window
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Car List                 Car Information    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ audi_a5    â”‚          â”‚ Audi A5 2.0    â”‚ â”‚
â”‚ â”‚ bmw_m3     â”‚          â”‚ [Preview Image]â”‚ â”‚
â”‚ â”‚ ferrari_458â”‚          â”‚                â”‚ â”‚
â”‚ â”‚            â”‚          â”‚ Brand: Audi    â”‚ â”‚
â”‚ â”‚            â”‚          â”‚ Has data: Yes  â”‚ â”‚
â”‚ â”‚            â”‚          â”‚                â”‚ â”‚
â”‚ â”‚            â”‚          â”‚ [Edit Car]     â”‚ â”‚
â”‚ â”‚            â”‚          â”‚ [Open Folder]  â”‚ â”‚
â”‚ â”‚            â”‚          â”‚ [Edit UI]  â†â”€â”€â”€â”¼â”€ NEW BUTTON
â”‚ â”‚            â”‚          â”‚ [Backup]       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ Click "Edit UI"
                                 â–¼
UI Editor Dialog
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Edit UI Metadata: audi_a5                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ Basic Information â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Car Name:    [Audi A5 2.0 TFSI     ] â”‚   â”‚
â”‚ â”‚ Brand:       [Audi                  ] â”‚   â”‚
â”‚ â”‚ Class:       [street â–¼]               â”‚   â”‚
â”‚ â”‚ Country:     [Germany               ] â”‚   â”‚
â”‚ â”‚ Year:        [2008]                   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                             â”‚
â”‚ â”Œâ”€ Description â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ [Replica Audi A5 2.0 TFSI 180cv.    ]â”‚  â”‚
â”‚ â”‚ [FWD, Manuale 6 marce.               ]â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                             â”‚
â”‚ â”Œâ”€ Tags â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ [fwd, manual, street, turbo         ]â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                             â”‚
â”‚ â”Œâ”€ Specifications â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Power:        [180 bhp              ] â”‚  â”‚
â”‚ â”‚ Torque:       [320 Nm               ] â”‚  â”‚
â”‚ â”‚ Weight:       [1425 kg              ] â”‚  â”‚
â”‚ â”‚ Top Speed:    [236 km/h             ] â”‚  â”‚
â”‚ â”‚ 0-100:        [7.8s 0-100           ] â”‚  â”‚
â”‚ â”‚ Power/Weight: [8.33 kg/hp           ] â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                             â”‚
â”‚ â”Œâ”€ Author Information â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Author:  [TeamSESH / User Edit      ] â”‚  â”‚
â”‚ â”‚ Version: [1.1 Custom                ] â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                             â”‚
â”‚                        [Save]  [Cancel]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Stage Tuning System Flow

```
Car Editor Dialog
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Edit Car: audi_a5                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Engine] [Suspension] [Drivetrain] [Weight] â”‚
â”‚ [Aero] [Brakes] [Pneumatici]                â”‚
â”‚                                              â”‚
â”‚ ... (car parameters) ...                     â”‚
â”‚                                              â”‚
â”‚ [Save Changes] [Reset] [ğŸ”§ Setup Manager]   â”‚
â”‚ [ğŸš€ Stage Tuning]  â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€ NEW BUTTON
â”‚                                  [Cancel]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ Click "Stage Tuning"
                    â–¼
Stage Tuning Dialog
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Stage Tuning: audi_a5                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ Current Configuration â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Engine Type: Turbocharged              â”‚  â”‚
â”‚ â”‚ Current Stage: Stock                   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Stage 1 - ECU Remap                  â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚ â”‚ â”‚ â€¢ Increase turbo boost by 15%  â”‚   â”‚   â”‚
â”‚ â”‚ â”‚ â€¢ Safe power increase          â”‚   â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚ â”‚         [Apply Stage 1]               â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Stage 2 - Turbo Upgrade              â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚ â”‚ â”‚ â€¢ Increase turbo boost by 30%  â”‚   â”‚   â”‚
â”‚ â”‚ â”‚ â€¢ More aggressive tuning       â”‚   â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚ â”‚         [Apply Stage 2]               â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Stage 3 - Full Build                 â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚ â”‚ â”‚ â€¢ Increase turbo boost by 50%  â”‚   â”‚   â”‚
â”‚ â”‚ â”‚ â€¢ +500 RPM limit               â”‚   â”‚   â”‚
â”‚ â”‚ â”‚ â€¢ Reduce weight by 5%          â”‚   â”‚   â”‚
â”‚ â”‚ â”‚ â€¢ Improve aerodynamics         â”‚   â”‚   â”‚
â”‚ â”‚ â”‚ â€¢ Upgrade differential         â”‚   â”‚   â”‚
â”‚ â”‚ â”‚ â€¢ +10% power curve             â”‚   â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚ â”‚         [Apply Stage 3]               â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                              â”‚
â”‚ [Reset to Stock (Clear Stage Marker)]       â”‚
â”‚                                              â”‚
â”‚                              [Close]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ Click "Apply Stage 1"
                    â–¼
Confirmation Dialog
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Apply Stage 1 - ECU Remap                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ This will apply the following modifications: â”‚
â”‚                                              â”‚
â”‚ â€¢ Increase turbo boost by 15%                â”‚
â”‚ â€¢ Safe power increase for daily driving      â”‚
â”‚                                              â”‚
â”‚ Backups will be created automatically.       â”‚
â”‚                                              â”‚
â”‚ Do you want to continue?                     â”‚
â”‚                                              â”‚
â”‚                     [Yes]  [No]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ Click "Yes"
                    â–¼
Success Dialog
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Success                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Stage 1 - ECU Remap applied successfully!    â”‚
â”‚                                              â”‚
â”‚ Backups have been created for all modified   â”‚
â”‚ files.                                       â”‚
â”‚                                              â”‚
â”‚                            [OK]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Stage Tuning Logic Comparison

### NA (Naturally Aspirated) Cars

```
Stock Car                         Stage 1 (ECU Remap)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Power Curve: 100% baseline        Power Curve: 108%
Turbo:       None                 Turbo:       None
                                  
                â¬‡                                â¬‡
                                  
Stage 2 (Turbo Conversion)        Stage 3 (Full Build)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Power Curve: 113% (108% Ã— 1.05)   Power Curve: 127% (113% Ã— 1.12)
Turbo:       0.35 bar added       Turbo:       0.42 bar (0.35 Ã— 1.20)
                                  Weight:      95% (-5%)
                                  Drag (CD):   90% (-10%)
                                  Inertia:     85% (-15%)
```

### Turbocharged Cars

```
Stock Car                         Stage 1 (ECU Remap)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Boost:       0.50 bar baseline    Boost:       0.575 bar (+15%)
                                  
                â¬‡                                â¬‡
                                  
Stage 2 (Turbo Upgrade)           Stage 3 (Full Build)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Boost:       0.65 bar (+30%)      Boost:       0.75 bar (+50%)
                                  Power Curve: 110%
                                  Weight:      95% (-5%)
                                  Drag (CD):   85% (-15%)
                                  Downforce:   115% (+15%)
                                  RPM Limit:   +500 RPM
                                  Differential: 120% power
                                  Inertia:     85% (-15%)
```

## File Modification Matrix

### NA Cars

| File | Stage 1 | Stage 2 | Stage 3 |
|------|---------|---------|---------|
| engine.ini | âœ… (marker) | âœ… (add turbo) | âœ… (turbo + inertia) |
| power.lut | âœ… (+8%) | âœ… (+5%) | âœ… (+12%) |
| car.ini | - | - | âœ… (-5% weight) |
| aero.ini | - | - | âœ… (-10% drag) |
| drivetrain.ini | - | - | - |

### Turbocharged Cars

| File | Stage 1 | Stage 2 | Stage 3 |
|------|---------|---------|---------|
| engine.ini | âœ… (+15% boost) | âœ… (+30% boost) | âœ… (+50% boost, +500 RPM, -15% inertia) |
| power.lut | - | - | âœ… (+10%) |
| car.ini | - | - | âœ… (-5% weight) |
| aero.ini | - | - | âœ… (-15% drag, +15% downforce) |
| drivetrain.ini | - | - | âœ… (+20% diff power) |

## Integration Points

### Main Window Integration
```python
# Button added in create_car_info_panel()
self.edit_ui_btn = QPushButton("Edit UI")
self.edit_ui_btn.setEnabled(True)  # Always enabled
self.edit_ui_btn.clicked.connect(self.edit_ui_metadata)

# Method added
def edit_ui_metadata(self):
    editor = UIEditorDialog(self.current_car, car_path, self)
    editor.exec_()
```

### Car Editor Dialog Integration
```python
# Button added in init_ui()
self.stage_btn = QPushButton("ğŸš€ Stage Tuning")
self.stage_btn.clicked.connect(self.open_stage_tuning)

# Method added
def open_stage_tuning(self):
    dlg = StageTuningDialog(self.car_name, self.car_data_path, self)
    if dlg.exec_():
        self.load_data()  # Reload if changes made
```

## Example Use Cases

### Use Case 1: Rebrand a Car
1. Select car in main window
2. Click "Edit UI"
3. Change name: "Generic A5" â†’ "Audi A5 Stage 2 Turbo"
4. Update brand: "Unknown" â†’ "Audi"
5. Add tags: "stage2, turbo"
6. Update specs: "180 bhp" â†’ "220 bhp"
7. Save
8. Car now appears with new name in AC menu

### Use Case 2: Quick Performance Upgrade (Turbo Car)
1. Open car editor
2. Click "ğŸš€ Stage Tuning"
3. See: "Engine Type: Turbocharged, Current Stage: Stock"
4. Click "Apply Stage 1"
5. Confirm (boost increases from 0.5 â†’ 0.575 bar)
6. Success message shown
7. Dialog updates: "Current Stage: Stage 1"
8. Close stage dialog
9. Save car editor
10. Test in-game

### Use Case 3: NA to Turbo Conversion
1. Open NA car in editor
2. Click "ğŸš€ Stage Tuning"
3. See: "Engine Type: Naturally Aspirated, Current Stage: Stock"
4. Apply Stage 1 (ECU remap, +8% power)
5. Apply Stage 2 (adds turbo system, 0.35 bar boost)
6. Apply Stage 3 (enhances turbo, reduces weight, improves aero)
7. Car is now fully turbocharged with comprehensive upgrades
8. Update UI metadata to reflect changes
9. Save and test

## Tips and Best Practices

### UI Editing
- âœ… Use HTML tags in description for formatting (`<br>` for line breaks)
- âœ… Keep specs accurate to avoid confusion
- âœ… Use descriptive tags for easy filtering
- âœ… Include author credit when modifying others' cars
- âœ… Version number helps track modifications

### Stage Tuning
- âœ… Create backup before stage tuning (main window button)
- âœ… Apply stages in order (1 â†’ 2 â†’ 3) for balanced progression
- âœ… Test each stage in-game before applying next
- âœ… Update UI metadata after stage tuning (e.g., add "Stage 2" to car name)
- âœ… Stage 3 is aggressive - only for experienced tuners
- âš ï¸ Reset to Stock only clears marker - use backups to fully revert
- âš ï¸ NA Stage 2/3 fundamentally change engine (adds turbo)
- âš ï¸ Multiple turbo units (TURBO_0, TURBO_1, etc.) all get upgraded

## Technical Notes

### Stage Marker
The stage level is stored in `engine.ini`:
```ini
[HEADER]
STAGE_LEVEL=1
```

This marker is checked by `StageTuner.get_current_stage()` to display current stage and prevent accidental re-application.

### Backup Strategy
Both features use the standard backup pattern:
- UIManager: `ui_car.json.bak`
- StageTuner: `engine.ini.bak`, `power.lut.bak`, etc.

All parsers call `save(backup=True)` which creates `.bak` files before writing.

### Multi-Turbo Support
If a car has multiple turbo units (TURBO_0, TURBO_1, TURBO_2, etc.), stage tuning will:
- Iterate through all `TURBO_N` sections
- Apply boost increase to each turbo
- Maintain relative boost ratios

Example:
```
Stock:    TURBO_0 = 0.5 bar, TURBO_1 = 0.4 bar
Stage 1:  TURBO_0 = 0.575 bar, TURBO_1 = 0.46 bar (both +15%)
```

## Common Questions

**Q: Can I skip stages?**
A: Yes, you can apply any stage directly. However, applying them in order (1â†’2â†’3) is recommended for balanced progression.

**Q: What if I apply Stage 3 twice?**
A: The stage marker prevents confusion, but physically, modifications would compound (e.g., boost would increase by 50% again). Always check current stage before applying.

**Q: Can I revert stage tuning?**
A: Use the backup system. "Reset to Stock" only clears the marker, not the modifications. Restore from timestamped backups to fully revert.

**Q: Do stages work on all cars?**
A: Stage tuning works on any car with engine.ini. Features are applied based on what files exist (e.g., aero.ini needed for aero upgrades).

**Q: Does UI editing affect performance?**
A: No. ui_car.json only controls menu display. Performance is controlled by data/ folder files.

**Q: Can I edit UI without unpacking data.acd?**
A: Yes! UI editing doesn't require data folder - ui/ is separate from data.acd.
